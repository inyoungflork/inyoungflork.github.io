<!DOCTYPE html>
<html>
    
<head>

        <meta charset="utf-8">
        <title>My Rhythm</title>
        <script src="../jquery-3.2.0.js"></script>    
        <link rel="stylesheet" href="style.css">
        <script src="http://cdn.jsdelivr.net/g/filesaver.js"></script>
        <script src="../html2canvas.js"></script>
    <script type="text/javascript">
            
         $(document).ready(function() {
        
         //save
         $(function() { 
            $("#btnSave").click(function() { 
            html2canvas($("body"), {
            onrendered: function(canvas) {
                theCanvas = canvas;
               

                canvas.toBlob(function(blob) {
				saveAs(blob, "Letter.png"); 
				});
            }
    });
    });
    }); 
            });
            
            //start_typing
    $(function(){
        $(document).click(function(e){
        var x = e.pageX + 'px';
        var y = e.pageY + 'px';
        var input = $('<input type="text" class="two" id="noclick" size="30" autofocus spellcheck="false"/>')
        var div = $('<div>').css({
            "position": "absolute",                    
            "left": x, "top": y,
            
        });
        div.append(input);
        $(document.body).append(div);  
        
        $('.two').click(false);

    });
                
       //space pressed
            $('body').bind('keypress', function(e) {
            //space bar
            if (e.which == 32){
                //e.preventDefault();
                //alert('space');
                
                var pos = makeNewPosition();
                $('#paper').animate({ top: pos[0], left: pos[1] }); 
                
            }
        });
        
        //enter pressed
            $('body').bind('keypress', function(e) {
            //enter
            if (e.which == 13){
                //e.preventDefault();
                //alert('space');
                
                var pos = makeNewPosition();
                $('#paper').animate({ top: pos[0], left: pos[1] }); 
                
            }
        });
        
        
     
        function makeNewPosition(){
    
    // Get viewport dimensions (remove the dimension of the div)
    var h = $('body').height() - 700;
    var w = $('body').width() - 1200;
    
    var nh = Math.floor(Math.random() * h);
    var nw = Math.floor(Math.random() * w);
    
    return [nh,nw];    
    
}
        $("#paper").css(
            {"background-color":get_random_color()});
        
                
});
            
    </script>
    <script type="text/javascript">
    
    function get_random_color() {
    var letters = '0123456789ABCDEF'.split('');
    var color = '#';
    for (var i = 0; i < 6; i++ ) {
        color += letters[Math.round(Math.random() * 15)];
    }
    return color;
}
    
        
</script>
</head>
    
<body>
    <header>
        <div id="headertop">
            <a href="../main.html">
                <img class="logo" src="../imgs/logo.png">
            </a>
        </div>    
    </header>
    
    <div id="paper"></div>
    
    <div id="btnSave">
        <img class="top" src="../imgs/download.png">
        <img class="pressed" src="../imgs/pressed.png">
    </div>
    
</body>
    
</html>